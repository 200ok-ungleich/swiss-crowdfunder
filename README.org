* README

[[https://gitlab.com/200ok/crowdfunding/badges/master/pipeline.svg]]

** Setup

*** Install RBenv

macOS: =brew install rbenv=

*** Install Ruby version 2.4.1

macOS: =rbenv install 2.4.1=

*** Install bundler

=gem install bundler=

*** Clone the repository

*** Install dependencies

Within your local checkout run =bundle=.

*** Migrate Database

=rake db:create db:migrate db:seed=

** Start Application

=rails s=


** Run tests

Automatically run tests while development

#+BEGIN_SRC sh
guard
#+END_SRC

For Emacs Users: When using `enh-ruby-mode`, this will also
automatically color your status bar either green on success or red on error.

** Live Reload

Using the Gems =guard-livereload= and =rack-livereload=, development
and saving of =*.erb= files will reload your browser.

** Deployment

#+BEGIN_SRC sh :dir /ssh:app@crowdfunding.ungleich.ch:/home/app/crowdfunding
cd ~/crowdfunding
git pull
bundle --without development test
rake db:migrate
rake assets:precompile
SECRET_KEY_BASE=f8ff44b8554e86dbc136671a17e5dfff6530cd34f6ae35631d7a421d136ef96899813d3ccfa06e99ef42ccc576808b013193a875e4ab4e5eca85d843210a645b unicorn_wrapper restart
#+END_SRC

#+RESULTS:

*** Delete DB in Production

#+BEGIN_SRC

unicorn_wrapper stop
DISABLE_DATABASE_ENVIRONMENT_CHECK=1 rake db:drop db:create db:migrate db:seed

#+END_SRC

** TODOs

*** PROJECT Ready for Ungleich Crowdfunding
    SCHEDULED: <2017-10-17 Tue> DEADLINE: <2017-10-27 Fri>


**** TODO Camgains#show/Goodies#index: Show original and remaining quantity

**** TODO NF: Global Lock-Down
     - [ ] Without authorization, no resource can be created
     - [ ] Only new Orders can be created (if valid)
     - [ ] New orders create Users implicitly

**** TODO As a user, when checking out a goodie, I want to give user-info: Name, E-Mail, Age
- [ ] Validation

**** TODO As a user, when checking out a goodie, I want to be able to pay with my bank account
- Gleicher FLow wie jetzt
- Anstelle CC Form: Bank-Einzugs Info

**** TODO NF: Eval - Users as Nested Attributes through Orders

**** TODO Wenn m√∂glich: Neben Bankeinzug auch CC

**** TODO Campaign Model: Introduce optional FB and Twitter Links

**** DONE Introduce "About Us" Page without content
**** DONE Introduce "TOS" Page without content

*** PROJECT Production Ready

**** TODO Implement Stripe
**** TODO Implement Bank Transfer
**** TODO i18n all the strings
**** PROJECT Secret Keys

- [ ]  More secret creation of Admin User than through =db/seeds.rb=
- [ ]  More secret devise keys than in =config/devise.rb=
- [ ] Do not expose =SECRET_KEY_BASE= in this README

**** TODO Add CanCanCan and lock down the /whole/ application
**** DONE Reconfigure GA link to the proper URL
